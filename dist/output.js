!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){var n=t.exports={};function r(t){return(t%360+360)%360}function o(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}n.rgb2Hsl=function(t,e,n){if("object"==typeof t){const r=t;t=r.r,e=r.g,n=r.b}t=255===t?1:t%255/parseFloat(255),e=255===e?1:e%255/parseFloat(255),n=255===n?1:n%255/parseFloat(255);var r,o,a=Math.max(t,e,n),s=Math.min(t,e,n),i=(a+s)/2;if(a===s)r=o=0;else{var l=a-s;switch(o=i>.5?l/(2-a-s):l/(a+s),a){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:Math.round(360*r),s:Math.round(100*o),l:Math.round(100*i)}},n.rgb_to_hsl=n.rgbToHsl=n.rgb2Hsl,n.rgb2Hsv=function(t,e,n){if("object"==typeof t){const r=t;t=r.r,e=r.g,n=r.b}t=255===t?1:t%255/parseFloat(255),e=255===e?1:e%255/parseFloat(255),n=255===n?1:n%255/parseFloat(255);var r,o,a=Math.max(t,e,n),s=Math.min(t,e,n),i=a,l=a-s;if(o=0===a?0:l/a,a===s)r=0;else{switch(a){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:Math.round(360*r),s:Math.round(100*o),v:Math.round(100*i)}},n.rgb_to_hsv=n.rgbToHsv=n.rgb2Hsv,n.hsl2Rgb=function(t,e,n){if("object"==typeof t){const r=t;t=r.h,e=r.s,n=r.l}var a,s,i;if(t=360===(t=r(t))?1:t%360/parseFloat(360),e=100===e?1:e%100/parseFloat(100),n=100===n?1:n%100/parseFloat(100),0===e)a=s=i=n;else{var l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;a=o(c,l,t+1/3),s=o(c,l,t),i=o(c,l,t-1/3)}return{r:Math.round(255*a),g:Math.round(255*s),b:Math.round(255*i)}},n.hsl_to_rgb=n.hslToRgb=n.hsl2Rgb,n.hsv2Rgb=function(t,e,n){if("object"==typeof t){const r=t;t=r.h,e=r.s,n=r.v}t=360===(t=r(t))?1:t%360/parseFloat(360)*6,e=100===e?1:e%100/parseFloat(100),n=100===n?1:n%100/parseFloat(100);var o=Math.floor(t),a=t-o,s=n*(1-e),i=n*(1-a*e),l=n*(1-(1-a)*e),c=o%6,u=[n,i,s,s,l,n][c],f=[l,n,n,i,s,s][c],h=[s,s,l,n,n,i][c];return{r:Math.floor(255*u),g:Math.floor(255*f),b:Math.floor(255*h)}},n.hsv_to_rgb=n.hsv2Rgb,n.hsvToRgb=n.hsv2Rgb,n.rgb2Hex=function(t,e,n){if("object"==typeof t){const r=t;t=r.r,e=r.g,n=r.b}return t=Math.round(t).toString(16),e=Math.round(e).toString(16),n=Math.round(n).toString(16),"#"+(t=1===t.length?"0"+t:t)+(e=1===e.length?"0"+e:e)+(n=1===n.length?"0"+n:n)},n.rgb_to_hex=n.rgbToHex=n.rgb2Hex,n.hex2Rgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},n.hex_to_rgb=n.hexToRgb=n.hex2Rgb,n.hsv2Hex=function(t,e,r){var o=n.hsv2Rgb(t,e,r);return n.rgb2Hex(o.r,o.g,o.b)},n.hsv_to_hex=n.hsv2Hex,n.hsvToHex=n.hsv2Hex,n.hex2Hsv=function(t){var e=n.hex2Rgb(t);return n.rgb2Hsv(e.r,e.g,e.b)},n.hex_to_hsv=n.hexToHsv=n.hex2Hsv,n.hsl2Hex=function(t,e,r){var o=n.hsl2Rgb(t,e,r);return n.rgb2Hex(o.r,o.g,o.b)},n.hsl_to_hex=n.hslToHex=n.hsl2Hex,n.hex2Hsl=function(t){var e=n.hex2Rgb(t);return n.rgb2Hsl(e.r,e.g,e.b)},n.hex_to_hsl=n.hexToHsl=n.hex2Hsl,n.rgb2Cmyk=function(t,e,n){if("object"==typeof t){const r=t;t=r.r,e=r.g,n=r.b}var r=t/255,o=e/255,a=n/255,s=1-Math.max(r,o,a),i=(1-o-s)/(1-s),l=(1-a-s)/(1-s);return{c:((1-r-s)/(1-s)).toFixed(3),m:i.toFixed(3),y:l.toFixed(3),k:s.toFixed(3)}},n.rgb_to_cmyk=n.rgbToCmyk=n.rgb2Cmyk,n.cmyk2Rgb=function(t,e,n,r){if("object"==typeof t){const o=t;t=o.c,e=o.m,n=o.y,r=o.k}var o=255*(1-t)*(1-r),a=255*(1-e)*(1-r),s=255*(1-n)*(1-r);return{r:Math.floor(o),g:Math.floor(a),b:Math.floor(s)}},n.cmyk_to_rgb=n.cmykToRgb=n.cmyk2Rgb,n.hsv2Hsl=function(t,e,n){if("object"==typeof t){const r=t;t=r.h,e=r.s,n=r.v}var r=(2-e)*n/2;return 0!==r&&(e=100===r?0:r<50?e*n/(2*r):e*n/(2-2*r)),{h:t,s:e,l:r}},n.hsv_to_hsl=n.hsvToHsl=n.hsv2Hsl,n.hsl2Hsv=function(t,e,n){if("object"==typeof t){const r=t;t=r.h,e=r.s,n=r.l}return e*=n<50?n:100-n,{h:t,s:Math.floor(2*e/(n+e)),v:Math.floor(n+e)}},n.hsl_to_hsv=n.hslToHsv=n.hsl2Hsv,n.parseCss=function(t){if(t.indexOf("#")>-1)return n.hex2Rgb(t);const e=t.split("(")[0],r=t.split("(")[1].split(")")[0].split(",");return e.split("").reduce(function(t,e,n){const o=t;return o[e]=parseFloat(r[n]),o},{})},n.parse_css=n.parseCss,n.stringify=function(t){return Object.keys(t).join("")+"("+Object.keys(t).map(function(e){var n=t[e];return"s"!==e&&"v"!==e&&"l"!==e||(n+="%"),n}).join(", ")+")"},n.random=function(){return"#"+("000000"+Math.floor(16777215*Math.random()).toString(16)).substr(-6)},n.rotateHue=function(t,e){void 0===e&&(e=0);const n="object"==typeof t?(t.h+e)%360:(t+e)%360,r=n<0?360+n:n;return"object"==typeof t?Object.assign(t,{h:r}):r},n.getColorEncoding=function(t){if("string"==typeof t)try{return n.hex2Rgb(t),"hex"}catch(t){}return"object"!=typeof t?"unknown":t.r&&t.g&&t.b?"rgb":t.h&&t.s&&t.v?"hsv":t.h&&t.s&&t.l?"hsl":t.c&&t.m&&t.y&&t.k?"cmyk":"unknown"}},function(t,e,n){var r=n(2);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,"\nbody {\n  font-family: sans-serif;\n}\n\ncanvas {\n  display: block;\n  margin-bottom: 1em;\n  margin-top: .2em;\n}\n\nh1 {\n  color: red;\n}\n\n/* Buttons and actions */\ndiv.upload-wrapper {\n  display: block;\n  margin-bottom: .5em;\n}\n\ndiv.upload-wrapper input[type=file] {\n  height: 0.1px;\n  width: 0.1px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  opacity: 0;\n}\n\nlabel.photo,\nbutton#run-analysis {\n  padding: .5em;\n  font-weight: 500;\n  font-size: 1.1em;\n  cursor: pointer;\n  margin-bottom: 1em;\n}\n\nbutton#run-analysis {\n  background-color: red;\n  color: white;\n}\nbutton#run-analysis:hover{\n  background-color: #bd2c23;\n}\n\nlabel.photo {\n  background-color: purple;\n  color: white;\n  line-height: 2.2em;\n}\ninput[type=file]:hover + label.photo {\n  background-color: #3e153e;\n  cursor: pointer;\n}\n\n/* Body styles */\n.block,\n.line,\n.get-colours-wrapper {\n  display:none;\n}\n\n.photo-uploaded .get-colours-wrapper {\n  display: block;\n}\n\n.get-colours .block,\n.get-colours .line {\n  display: block;\n}\n\n.container-block {\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  margin-bottom: .5em;\n}\n\n.container-line {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: .5em;\n}\n\n.canvas-holder {\n  margin-right: 2em;\n  flex: auto 1 1;\n}\n\n.canvas-holder a {\n  font-weight: 500;\n  border: 1px solid black;\n  background-color: #cabfbf;\n  padding: 2px 3px;\n  text-decoration: none;\n}\n\n.canvas-holder a.available {\n  background-color: #f98e52;\n  cursor: pointer;\n}\n\n.canvas-holder a.available:hover,\n .canvas-holder a.available:active {\n  color: white;\n}\n\n@media (max-width: 700px) {\n  .container-block {\n    flex-direction: column;\n  }\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),a=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(a).concat([o]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){var r={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),a=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),s=null,i=0,l=[],c=n(5);function u(t,e){for(var n=0;n<t.length;n++){var o=t[n],a=r[o.id];if(a){a.refs++;for(var s=0;s<a.parts.length;s++)a.parts[s](o.parts[s]);for(;s<o.parts.length;s++)a.parts.push(g(o.parts[s],e))}else{var i=[];for(s=0;s<o.parts.length;s++)i.push(g(o.parts[s],e));r[o.id]={id:o.id,refs:1,parts:i}}}}function f(t,e){for(var n=[],r={},o=0;o<t.length;o++){var a=t[o],s=e.base?a[0]+e.base:a[0],i={css:a[1],media:a[2],sourceMap:a[3]};r[s]?r[s].parts.push(i):n.push(r[s]={id:s,parts:[i]})}return n}function h(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function p(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),b(e,t.attrs),h(t,e),e}function b(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,r,o,a;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}if(e.singleton){var l=i++;n=s||(s=p(e)),r=m.bind(null,n,l,!1),o=m.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),h(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||a)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(s),i&&URL.revokeObjectURL(i)}.bind(null,n,e),o=function(){d(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){d(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return u(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a];(i=r[s.id]).refs--,o.push(i)}t&&u(f(t,e),e);for(a=0;a<o.length;a++){var i;if(0===(i=o[a]).refs){for(var l=0;l<i.parts.length;l++)i.parts[l]();delete r[i.id]}}}};var v=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function m(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=v(e,o);else{var a=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(a,s[e]):t.appendChild(a)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){"use strict";n.r(e);const r=n(0),o=(t,e,n)=>t.map(t=>{let[r,o,a]=t,s=e(r,o,a);return{r:r,g:o,b:a,[n]:s[n]}}),a=(t,e,n,a,s,i)=>{let l=n/2,c=[],u=[];for(let t=e/2;t<a;t+=e)c.push(t);for(let t=l;t<s;t+=n)u.push(t);const f=c.reduce((t,e)=>{let n=u.map(t=>[t,e]);return t.concat(n)},[]).map(e=>{return t.getImageData(e[0],e[1],1,1).data});return"l"===i?(t=>{return o(t,r.rgb_to_hsl,"l").sort((t,e)=>t.l-e.l)})(f):"v"===i?(t=>{return o(t,r.rgb_to_hsv,"v").sort((t,e)=>t.v-e.v)})(f):void 0},s=(t,e,n,r,o,a,s)=>{let l=i(r,e,n),c=[],u=[];for(let t=0;t<e;t+=o)u.push(t);for(let t=0;t<n;t+=a)c.push(t);c.reduce((t,e)=>{let n=u.map(t=>[e,t]);return t.concat(n)},[]).forEach((e,n)=>{l.fillRect(e[0],e[1],a,o),t[n]?l.fillStyle=`rgb(${t[n].r}, ${t[n].g}, ${t[n].b})`:l.fillStyle="white"}),((t,e)=>{const n=document.getElementById(`${t}-download`);n.addEventListener("click",()=>{const r=document.getElementById(`${t}`);n.href=r.toDataURL(),n.download=`${e}-${t}`},!1),n.classList.add("available")})(r,s)},i=(t,e,n)=>{const r=document.getElementById(t);return r.height=e,r.width=n,r.getContext("2d")};n(1);const l=document.querySelector("main"),c=document.querySelector("label.photo"),u=window.outerWidth,f=t=>{let e=t.target.files;e.length>1?e.forEach(t=>h(t,!0)):1===e.length&&h(e[0],!1)},h=(t,e)=>{let n=t.name,r=(new FileReader,i("canvas",400,400)),o=new Image;o.crossorigin="anonymous",o.correctOrientation=!0,o.onload=(()=>{let[t,a]=((t,e,n,r)=>{const o=e/t;if(o<1)return[n,n*o];return[r/o,r]})(o.width,o.height,400,400);r.drawImage(o,0,0,t,a),URL.revokeObjectURL(o.src),d(r,n,{w:t,h:a,lineOnly:e}),l.classList.add("photo-uploaded")}),o.src=URL.createObjectURL(t)},d=(t,e,n)=>{document.getElementById("run-analysis").addEventListener("click",()=>{const e=a(t,25,25,n.h,n.w,"l"),r=a(t,25,25,n.h,n.w,"v");b(e,r,n),p()},!1)},p=()=>{l.classList.add("get-colours"),c.textContent="1. Upload another photo",u<400&&l.scrollTo(0,600)},b=(t,e,n)=>{let r=25*((t,e,n)=>{let r,o;return t>e?(r=15,o=e/n):(r=t/n,o=15),o*r})(n.w,n.h,25);n.lineOnly?s(t,25,r,"lineLightness",25,25):(s(t,n.h,n.w,"blockLightness",25,25),s(e,n.h,n.w,"blockBrightness",25,25),s(t,25,r,"lineLightness",25,25),s(e,25,r,"lineBrightness",25,25))},g=()=>{document.getElementById("photo-submitter").addEventListener("change",f,!1)};window.onload=(()=>{document.querySelector("#batch-container")?(console.log("batch option ran"),console.log("will it show here ")):g()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbG9yc3lzL2NvbG9yc3lzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuY3NzPzAyYWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb2xvdXJTb3J0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbG91ckdldHRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29sb3JEcmF3ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbGVoYW5kbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhdGNoLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY29sb3JzeXMiLCJfbm9ybWFsaXplQW5nbGUiLCJkZWdyZWVzIiwiX2h1ZTJSZ2IiLCJxIiwicmdiMkhzbCIsImciLCJiIiwiYXJncyIsInBhcnNlRmxvYXQiLCJoIiwibWF4IiwiTWF0aCIsIm1pbiIsInJvdW5kIiwicmdiX3RvX2hzbCIsInJnYlRvSHNsIiwicmdiMkhzdiIsInYiLCJyZ2JfdG9faHN2IiwicmdiVG9Ic3YiLCJoc2wyUmdiIiwiaHNsX3RvX3JnYiIsImhzbFRvUmdiIiwiaHN2MlJnYiIsImZsb29yIiwiZiIsIm1vZCIsImhzdl90b19yZ2IiLCJoc3ZUb1JnYiIsInJnYjJIZXgiLCJ0b1N0cmluZyIsImxlbmd0aCIsInJnYl90b19oZXgiLCJyZ2JUb0hleCIsImhleDJSZ2IiLCJoZXgiLCJyZXN1bHQiLCJleGVjIiwicGFyc2VJbnQiLCJoZXhfdG9fcmdiIiwiaGV4VG9SZ2IiLCJoc3YySGV4IiwicmdiIiwiaHN2X3RvX2hleCIsImhzdlRvSGV4IiwiaGV4MkhzdiIsImhleF90b19oc3YiLCJoZXhUb0hzdiIsImhzbDJIZXgiLCJoc2xfdG9faGV4IiwiaHNsVG9IZXgiLCJoZXgySHNsIiwiaGV4X3RvX2hzbCIsImhleFRvSHNsIiwicmdiMkNteWsiLCJycHJpbSIsImdwcmltIiwiYnByaW0iLCJrIiwieSIsInRvRml4ZWQiLCJyZ2JfdG9fY215ayIsInJnYlRvQ215ayIsImNteWsyUmdiIiwiY215a190b19yZ2IiLCJjbXlrVG9SZ2IiLCJoc3YySHNsIiwiU1ZfTUFYIiwiaHN2X3RvX2hzbCIsImhzdlRvSHNsIiwiaHNsMkhzdiIsImhzbF90b19oc3YiLCJoc2xUb0hzdiIsInBhcnNlQ3NzIiwiY3NzU3RyaW5nIiwiaW5kZXhPZiIsInByZWZpeCIsInNwbGl0IiwicmVkdWNlIiwiY29sb3IiLCJwYXJhbSIsImlkeCIsIm5leHRDb2xvciIsInBhcnNlX2NzcyIsInN0cmluZ2lmeSIsIm9iaiIsImtleXMiLCJqb2luIiwibWFwIiwidmFsIiwicmFuZG9tIiwic3Vic3RyIiwicm90YXRlSHVlIiwiaHVlIiwiYW1vdW50IiwiYXV4IiwibmV4dEh1ZSIsImFzc2lnbiIsImdldENvbG9yRW5jb2RpbmciLCJlcnIiLCJjb250ZW50Iiwib3B0aW9ucyIsImhtciIsInRyYW5zZm9ybSIsImluc2VydEludG8iLCJ1bmRlZmluZWQiLCJsb2NhbHMiLCJwdXNoIiwidXNlU291cmNlTWFwIiwibGlzdCIsInRoaXMiLCJpdGVtIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwidG9Db21tZW50Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaWQiLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJmbiIsIm1lbW8iLCJhcHBseSIsImFyZ3VtZW50cyIsIm1lbW9pemUiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRFbGVtZW50IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhdHRycyIsInR5cGUiLCJhZGRBdHRycyIsImVsIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsInVwZGF0ZSIsInJlbW92ZSIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwicmVwbGFjZVRleHQiLCJ0ZXh0U3RvcmUiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0IiwiYWRkVG9Db2xvciIsImRhdGEiLCJmdW5jIiwicHJvcCIsIm5ld0NvbG9yIiwiW29iamVjdCBPYmplY3RdIiwiZ2V0UGl4ZWxEYXRhIiwiY3R4IiwiYmxvY2tIZWlnaHQiLCJibG9ja1dpZHRoIiwiaGVpZ2h0Iiwid2lkdGgiLCJjb2xvclByb3AiLCJoY0Jsb2NrIiwidlBvaW50cyIsImhQb2ludHMiLCJjb2xvckRhdGEiLCJhY2MiLCJjdXJyIiwicm93IiwiaHBvaW50IiwicG9pbnQiLCJnZXRJbWFnZURhdGEiLCJzb3J0IiwiYSIsInNvcnRMaWdodG5lc3MiLCJzb3J0QnJpZ2h0bmVzcyIsImRyYXdlck91dHB1dCIsIm9yaWdDb2xvcnMiLCJmaWxlbmFtZSIsImNhbnZhc1NldFVwIiwieFN0YXJ0UG9pbnRzIiwieVN0YXJ0UG9pbnRzIiwieVBvaW50IiwiY29vcmQiLCJmaWxsUmVjdCIsImZpbGxTdHlsZSIsImdldEVsZW1lbnRCeUlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhbnZhcyIsInRvRGF0YVVSTCIsImRvd25sb2FkIiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0dXBEb3dubG9hZEJ1dHRvbiIsInciLCJjdnMiLCJnZXRDb250ZXh0IiwibWFpbkJveCIsInVwbG9hZExhYmVsIiwid2luZG93V2lkdGgiLCJvdXRlcldpZHRoIiwiY2hlY2tGaWxlcyIsInN1Ym1pdHRlZCIsImZpbGVzIiwiZmlsZSIsIm1vdW50RmlsZSIsImxpbmVPbmx5IiwiRmlsZVJlYWRlciIsImltZyIsIkltYWdlIiwiY3Jvc3NvcmlnaW4iLCJjb3JyZWN0T3JpZW50YXRpb24iLCJvbmxvYWQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIndocmF0aW8iLCJzY2FsZSIsImRyYXdJbWFnZSIsInNyYyIsImRyYXdlciIsImNvbmYiLCJvcmlnQ29sb3JzTCIsIm9yaWdDb2xvcnNCIiwiY3JlYXRlTmV3Q2FudmFzZXMiLCJzaG93Q29sb3VyT3B0aW9ucyIsInRleHRDb250ZW50Iiwic2Nyb2xsVG8iLCJ3TGluZSIsInN0YW5kYXJkQmxvY2siLCJob3Jpem9udGFsQmxvY2tzIiwidmVydGljYWxCbG9ja3MiLCJmaW5kQmxvY2tOdW1iZXIiLCJpbml0IiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNB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QXRTLEVBQUFzUyxFQUFBMUIsRUFBQSxLQUNBNEIsRUFBQW5FLEVBQUFDLEVBakRBLE1BaURBZ0UsRUFBQXRTLEVBQUFzUyxFQUFBMUIsRUFBQSxLQUNBNkIsRUFBQUYsRUFBQUMsRUFBQUYsR0FDQUksTUFFQSxJQUlBQSxFQUFBLEtBQ0EzQixFQUFBTixVQUFBQyxJQUFBLGVBQ0FNLEVBQUEyQixZQUFBLDBCQUNBMUIsRUFBQSxLQUNBRixFQUFBNkIsU0FBQSxRQUlBSCxFQUFBLENBQUFGLEVBQUFDLEVBQUFGLEtBQ0EsSUFBQU8sRUFsRUEsR0NOQSxFQUFBakMsRUFBQTVRLEVBQUE4UyxLQUNBLElBQUFDLEVBQ0FDLEVBU0EsT0FSQXBDLEVBQUE1USxHQUNBK1MsRUFBQSxHQUNBQyxFQUFBaFQsRUFBQThTLElBRUFDLEVBQUFuQyxFQUFBa0MsRUFDQUUsRUFBQSxJQUVBQSxFQUFBRCxHRDhEQUUsQ0FBQVgsRUFBQTFCLEVBQUEwQixFQUFBdFMsRUFsRUEsSUFvRUFzUyxFQUFBZCxTQUNBOUIsRUFBQTZDLEVBckVBLEdBcUVBTSxFQUFBLGdCQXJFQSxRQXdFQW5ELEVBQUE2QyxFQUFBRCxFQUFBdFMsRUFBQXNTLEVBQUExQixFQUFBLGlCQXhFQSxPQXlFQWxCLEVBQUE4QyxFQUFBRixFQUFBdFMsRUFBQXNTLEVBQUExQixFQUFBLGtCQXpFQSxPQTRFQWxCLEVBQUE2QyxFQTVFQSxHQTRFQU0sRUFBQSxnQkE1RUEsT0E2RUFuRCxFQUFBOEMsRUE3RUEsR0E2RUFLLEVBQUEsaUJBN0VBLFNBaUZBSyxFQUFBLEtBMUVBbEwsU0FBQW9JLGVBQUEsbUJBQ0FDLGlCQUNBLFNBQ0FjLEdBQ0EsSUVoQkFwSixPQUFBK0osT0FBQSxNQUNBOUosU0FBQU0sY0FBQSxxQkFFQTZLLFFBQUFDLElBQUEsb0JDREFELFFBQUFDLElBQUEsdUJESUFGIiwiZmlsZSI6Im91dHB1dC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsIlxuY29uc3QgUkdCX01BWCA9IDI1NVxuY29uc3QgSFVFX01BWCA9IDM2MFxuY29uc3QgU1ZfTUFYID0gMTAwXG5cbnZhciBjb2xvcnN5cyA9IG1vZHVsZS5leHBvcnRzID0ge31cblxuY29sb3JzeXMucmdiMkhzbCA9IGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gIGlmICh0eXBlb2YgciA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gclxuICAgIHIgPSBhcmdzLnI7IGcgPSBhcmdzLmc7IGIgPSBhcmdzLmI7XG4gIH1cbiAgLy8gSXQgY29udmVydHMgWzAsMjU1XSBmb3JtYXQsIHRvIFswLDFdXG4gIHIgPSAociA9PT0gUkdCX01BWCkgPyAxIDogKHIgJSBSR0JfTUFYIC8gcGFyc2VGbG9hdChSR0JfTUFYKSlcbiAgZyA9IChnID09PSBSR0JfTUFYKSA/IDEgOiAoZyAlIFJHQl9NQVggLyBwYXJzZUZsb2F0KFJHQl9NQVgpKVxuICBiID0gKGIgPT09IFJHQl9NQVgpID8gMSA6IChiICUgUkdCX01BWCAvIHBhcnNlRmxvYXQoUkdCX01BWCkpXG5cbiAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpXG4gIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKVxuICB2YXIgaCwgcywgbCA9IChtYXggKyBtaW4pIC8gMlxuXG4gIGlmIChtYXggPT09IG1pbikge1xuICAgIGggPSBzID0gMCAvLyBhY2hyb21hdGljXG4gIH0gZWxzZSB7XG4gICAgdmFyIGQgPSBtYXggLSBtaW5cbiAgICBzID0gbCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbilcbiAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgY2FzZSByOlxuICAgICAgICBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgZzpcbiAgICAgICAgaCA9IChiIC0gcikgLyBkICsgMlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBiOlxuICAgICAgICBoID0gKHIgLSBnKSAvIGQgKyA0XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIGggLz0gNlxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoOiBNYXRoLnJvdW5kKGggKiBIVUVfTUFYKSxcbiAgICBzOiBNYXRoLnJvdW5kKHMgKiBTVl9NQVgpLFxuICAgIGw6IE1hdGgucm91bmQobCAqIFNWX01BWClcbiAgfVxufVxuXG5jb2xvcnN5cy5yZ2JfdG9faHNsID0gY29sb3JzeXMucmdiVG9Ic2wgPSBjb2xvcnN5cy5yZ2IySHNsXG5cbmNvbG9yc3lzLnJnYjJIc3YgPSBmdW5jdGlvbiAociwgZywgYikge1xuICBpZiAodHlwZW9mIHIgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IHJcbiAgICByID0gYXJncy5yOyBnID0gYXJncy5nOyBiID0gYXJncy5iO1xuICB9XG5cbiAgLy8gSXQgY29udmVydHMgWzAsMjU1XSBmb3JtYXQsIHRvIFswLDFdXG4gIHIgPSAociA9PT0gUkdCX01BWCkgPyAxIDogKHIgJSBSR0JfTUFYIC8gcGFyc2VGbG9hdChSR0JfTUFYKSlcbiAgZyA9IChnID09PSBSR0JfTUFYKSA/IDEgOiAoZyAlIFJHQl9NQVggLyBwYXJzZUZsb2F0KFJHQl9NQVgpKVxuICBiID0gKGIgPT09IFJHQl9NQVgpID8gMSA6IChiICUgUkdCX01BWCAvIHBhcnNlRmxvYXQoUkdCX01BWCkpXG5cbiAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpXG4gIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKVxuICB2YXIgaCwgcywgdiA9IG1heFxuXG4gIHZhciBkID0gbWF4IC0gbWluXG5cbiAgcyA9IG1heCA9PT0gMCA/IDAgOiBkIC8gbWF4XG5cbiAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgaCA9IDAgLy8gYWNocm9tYXRpY1xuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICBjYXNlIHI6XG4gICAgICAgIGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBnOlxuICAgICAgICBoID0gKGIgLSByKSAvIGQgKyAyXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIGI6XG4gICAgICAgIGggPSAociAtIGcpIC8gZCArIDRcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgaCAvPSA2XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGg6IE1hdGgucm91bmQoaCAqIEhVRV9NQVgpLFxuICAgIHM6IE1hdGgucm91bmQocyAqIFNWX01BWCksXG4gICAgdjogTWF0aC5yb3VuZCh2ICogU1ZfTUFYKVxuICB9XG59XG5cbmNvbG9yc3lzLnJnYl90b19oc3YgPSBjb2xvcnN5cy5yZ2JUb0hzdiA9IGNvbG9yc3lzLnJnYjJIc3ZcblxuY29sb3JzeXMuaHNsMlJnYiA9IGZ1bmN0aW9uIChoLCBzLCBsKSB7XG4gIGlmICh0eXBlb2YgaCA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gaFxuICAgIGggPSBhcmdzLmg7IHMgPSBhcmdzLnM7IGwgPSBhcmdzLmw7XG4gIH1cblxuICB2YXIgciwgZywgYlxuXG4gIGggPSBfbm9ybWFsaXplQW5nbGUoaClcbiAgaCA9IChoID09PSBIVUVfTUFYKSA/IDEgOiAoaCAlIEhVRV9NQVggLyBwYXJzZUZsb2F0KEhVRV9NQVgpKVxuICBzID0gKHMgPT09IFNWX01BWCkgPyAxIDogKHMgJSBTVl9NQVggLyBwYXJzZUZsb2F0KFNWX01BWCkpXG4gIGwgPSAobCA9PT0gU1ZfTUFYKSA/IDEgOiAobCAlIFNWX01BWCAvIHBhcnNlRmxvYXQoU1ZfTUFYKSlcblxuICBpZiAocyA9PT0gMCkge1xuICAgIHIgPSBnID0gYiA9IGwgLy8gYWNocm9tYXRpY1xuICB9IGVsc2Uge1xuICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICB2YXIgcCA9IDIgKiBsIC0gcTtcbiAgICByID0gX2h1ZTJSZ2IocCwgcSwgaCArIDEgLyAzKVxuICAgIGcgPSBfaHVlMlJnYihwLCBxLCBoKVxuICAgIGIgPSBfaHVlMlJnYihwLCBxLCBoIC0gMSAvIDMpXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHI6IE1hdGgucm91bmQociAqIFJHQl9NQVgpLFxuICAgIGc6IE1hdGgucm91bmQoZyAqIFJHQl9NQVgpLFxuICAgIGI6IE1hdGgucm91bmQoYiAqIFJHQl9NQVgpLFxuICB9XG59XG5cbmNvbG9yc3lzLmhzbF90b19yZ2IgPSBjb2xvcnN5cy5oc2xUb1JnYiA9IGNvbG9yc3lzLmhzbDJSZ2JcblxuY29sb3JzeXMuaHN2MlJnYiA9IGZ1bmN0aW9uIChoLCBzLCB2KSB7XG4gIGlmICh0eXBlb2YgaCA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gaFxuICAgIGggPSBhcmdzLmg7IHMgPSBhcmdzLnM7IHYgPSBhcmdzLnY7XG4gIH1cblxuICBoID0gX25vcm1hbGl6ZUFuZ2xlKGgpXG4gIGggPSAoaCA9PT0gSFVFX01BWCkgPyAxIDogKGggJSBIVUVfTUFYIC8gcGFyc2VGbG9hdChIVUVfTUFYKSAqIDYpXG4gIHMgPSAocyA9PT0gU1ZfTUFYKSA/IDEgOiAocyAlIFNWX01BWCAvIHBhcnNlRmxvYXQoU1ZfTUFYKSlcbiAgdiA9ICh2ID09PSBTVl9NQVgpID8gMSA6ICh2ICUgU1ZfTUFYIC8gcGFyc2VGbG9hdChTVl9NQVgpKVxuXG4gIHZhciBpID0gTWF0aC5mbG9vcihoKVxuICB2YXIgZiA9IGggLSBpXG4gIHZhciBwID0gdiAqICgxIC0gcylcbiAgdmFyIHEgPSB2ICogKDEgLSBmICogcylcbiAgdmFyIHQgPSB2ICogKDEgLSAoMSAtIGYpICogcylcbiAgdmFyIG1vZCA9IGkgJSA2XG4gIHZhciByID0gW3YsIHEsIHAsIHAsIHQsIHZdW21vZF1cbiAgdmFyIGcgPSBbdCwgdiwgdiwgcSwgcCwgcF1bbW9kXVxuICB2YXIgYiA9IFtwLCBwLCB0LCB2LCB2LCBxXVttb2RdXG5cbiAgcmV0dXJuIHtcbiAgICByOiBNYXRoLmZsb29yKHIgKiBSR0JfTUFYKSxcbiAgICBnOiBNYXRoLmZsb29yKGcgKiBSR0JfTUFYKSxcbiAgICBiOiBNYXRoLmZsb29yKGIgKiBSR0JfTUFYKSxcbiAgfVxufVxuXG5jb2xvcnN5cy5oc3ZfdG9fcmdiID0gY29sb3JzeXMuaHN2MlJnYlxuY29sb3JzeXMuaHN2VG9SZ2IgPSBjb2xvcnN5cy5oc3YyUmdiXG5cbmNvbG9yc3lzLnJnYjJIZXggPSBmdW5jdGlvbiAociwgZywgYikge1xuICBpZiAodHlwZW9mIHIgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IHJcbiAgICByID0gYXJncy5yOyBnID0gYXJncy5nOyBiID0gYXJncy5iO1xuICB9XG4gIHIgPSBNYXRoLnJvdW5kKHIpLnRvU3RyaW5nKDE2KVxuICBnID0gTWF0aC5yb3VuZChnKS50b1N0cmluZygxNilcbiAgYiA9IE1hdGgucm91bmQoYikudG9TdHJpbmcoMTYpXG5cbiAgciA9IHIubGVuZ3RoID09PSAxID8gJzAnICsgciA6IHJcbiAgZyA9IGcubGVuZ3RoID09PSAxID8gJzAnICsgZyA6IGdcbiAgYiA9IGIubGVuZ3RoID09PSAxID8gJzAnICsgYiA6IGJcblxuICByZXR1cm4gJyMnICsgciArIGcgKyBiXG59XG5cbmNvbG9yc3lzLnJnYl90b19oZXggPSBjb2xvcnN5cy5yZ2JUb0hleCA9IGNvbG9yc3lzLnJnYjJIZXhcblxuY29sb3JzeXMuaGV4MlJnYiA9IGZ1bmN0aW9uIChoZXgpIHtcbiAgdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpXG4gIHJldHVybiByZXN1bHQgPyB7XG4gICAgcjogcGFyc2VJbnQocmVzdWx0WzFdLCAxNiksXG4gICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgYjogcGFyc2VJbnQocmVzdWx0WzNdLCAxNilcbiAgfSA6IG51bGxcbn1cblxuY29sb3JzeXMuaGV4X3RvX3JnYiA9IGNvbG9yc3lzLmhleFRvUmdiID0gY29sb3JzeXMuaGV4MlJnYlxuXG5jb2xvcnN5cy5oc3YySGV4ID0gZnVuY3Rpb24gKGgsIHMsIHYpIHtcbiAgdmFyIHJnYiA9IGNvbG9yc3lzLmhzdjJSZ2IoaCwgcywgdilcbiAgcmV0dXJuIGNvbG9yc3lzLnJnYjJIZXgocmdiLnIsIHJnYi5nLCByZ2IuYilcbn1cblxuY29sb3JzeXMuaHN2X3RvX2hleCA9IGNvbG9yc3lzLmhzdjJIZXhcbmNvbG9yc3lzLmhzdlRvSGV4ID0gY29sb3JzeXMuaHN2MkhleFxuXG5jb2xvcnN5cy5oZXgySHN2ID0gZnVuY3Rpb24gKGhleCkge1xuICB2YXIgcmdiID0gY29sb3JzeXMuaGV4MlJnYihoZXgpXG4gIHJldHVybiBjb2xvcnN5cy5yZ2IySHN2KHJnYi5yLCByZ2IuZywgcmdiLmIpXG59XG5cbmNvbG9yc3lzLmhleF90b19oc3YgPSBjb2xvcnN5cy5oZXhUb0hzdiA9IGNvbG9yc3lzLmhleDJIc3ZcblxuY29sb3JzeXMuaHNsMkhleCA9IGZ1bmN0aW9uIChoLCBzLCBsKSB7XG4gIHZhciByZ2IgPSBjb2xvcnN5cy5oc2wyUmdiKGgsIHMsIGwpXG4gIHJldHVybiBjb2xvcnN5cy5yZ2IySGV4KHJnYi5yLCByZ2IuZywgcmdiLmIpXG59XG5cbmNvbG9yc3lzLmhzbF90b19oZXggPSBjb2xvcnN5cy5oc2xUb0hleCA9IGNvbG9yc3lzLmhzbDJIZXhcblxuY29sb3JzeXMuaGV4MkhzbCA9IGZ1bmN0aW9uIChoZXgpIHtcbiAgdmFyIHJnYiA9IGNvbG9yc3lzLmhleDJSZ2IoaGV4KVxuICByZXR1cm4gY29sb3JzeXMucmdiMkhzbChyZ2IuciwgcmdiLmcsIHJnYi5iKVxufVxuXG5jb2xvcnN5cy5oZXhfdG9faHNsID0gY29sb3JzeXMuaGV4VG9Ic2wgPSBjb2xvcnN5cy5oZXgySHNsXG5cbmNvbG9yc3lzLnJnYjJDbXlrID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgaWYgKHR5cGVvZiByID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSByXG4gICAgciA9IGFyZ3MucjsgZyA9IGFyZ3MuZzsgYiA9IGFyZ3MuYjtcbiAgfVxuXG4gIHZhciBycHJpbSA9IHIgLyAyNTVcbiAgdmFyIGdwcmltID0gZyAvIDI1NVxuICB2YXIgYnByaW0gPSBiIC8gMjU1XG5cbiAgdmFyIGsgPSAxIC0gTWF0aC5tYXgocnByaW0sIGdwcmltLCBicHJpbSlcblxuICB2YXIgYyA9ICgxIC0gcnByaW0gLSBrKSAvICgxIC0gaylcbiAgdmFyIG0gPSAoMSAtIGdwcmltIC0gaykgLyAoMSAtIGspXG4gIHZhciB5ID0gKDEgLSBicHJpbSAtIGspIC8gKDEgLSBrKVxuXG4gIHJldHVybiB7XG4gICAgYzogYy50b0ZpeGVkKDMpLFxuICAgIG06IG0udG9GaXhlZCgzKSxcbiAgICB5OiB5LnRvRml4ZWQoMyksXG4gICAgazogay50b0ZpeGVkKDMpXG4gIH1cbn1cblxuY29sb3JzeXMucmdiX3RvX2NteWsgPSBjb2xvcnN5cy5yZ2JUb0NteWsgPSBjb2xvcnN5cy5yZ2IyQ215a1xuXG5jb2xvcnN5cy5jbXlrMlJnYiA9IGZ1bmN0aW9uIChjLCBtLCB5LCBrKSB7XG4gIGlmICh0eXBlb2YgYyA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gY1xuICAgIGMgPSBhcmdzLmM7IG0gPSBhcmdzLm07IHkgPSBhcmdzLnk7IGsgPSBhcmdzLms7XG4gIH1cblxuICB2YXIgciA9IDI1NSAqICgxIC0gYykgKiAoMSAtIGspXG4gIHZhciBnID0gMjU1ICogKDEgLSBtKSAqICgxIC0gaylcbiAgdmFyIGIgPSAyNTUgKiAoMSAtIHkpICogKDEgLSBrKVxuXG4gIHJldHVybiB7XG4gICAgcjogTWF0aC5mbG9vcihyKSxcbiAgICBnOiBNYXRoLmZsb29yKGcpLFxuICAgIGI6IE1hdGguZmxvb3IoYilcbiAgfVxufVxuXG5jb2xvcnN5cy5jbXlrX3RvX3JnYiA9IGNvbG9yc3lzLmNteWtUb1JnYiA9IGNvbG9yc3lzLmNteWsyUmdiXG5cbmNvbG9yc3lzLmhzdjJIc2wgPSBmdW5jdGlvbiAoaCwgcywgdikge1xuICBpZiAodHlwZW9mIGggPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGhcbiAgICBoID0gYXJncy5oOyBzID0gYXJncy5zOyB2ID0gYXJncy52O1xuICB9XG5cbiAgdmFyIGwgPSAoMiAtIHMpICogdiAvIDJcblxuICBpZiAobCAhPT0gMCkge1xuICAgIGlmIChsID09PSBTVl9NQVgpIHtcbiAgICAgIHMgPSAwXG4gICAgfSBlbHNlIGlmIChsIDwgU1ZfTUFYIC8gMikge1xuICAgICAgcyA9IHMgKiB2IC8gKGwgKiAyKVxuICAgIH0gZWxzZSB7XG4gICAgICBzID0gcyAqIHYgLyAoMiAtIGwgKiAyKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7IGg6IGgsIHM6IHMsIGw6IGwgfVxufVxuXG5jb2xvcnN5cy5oc3ZfdG9faHNsID0gY29sb3JzeXMuaHN2VG9Ic2wgPSBjb2xvcnN5cy5oc3YySHNsXG5cbmNvbG9yc3lzLmhzbDJIc3YgPSBmdW5jdGlvbiAoaCwgcywgbCkge1xuICBpZiAodHlwZW9mIGggPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGhcbiAgICBoID0gYXJncy5oOyBzID0gYXJncy5zOyBsID0gYXJncy5sO1xuICB9XG5cbiAgcyA9IHMgKiAobCA8IDUwID8gbCA6ICgxMDAgLSBsKSlcblxuICByZXR1cm4ge1xuICAgIGg6IGgsXG4gICAgczogTWF0aC5mbG9vcigyICogcyAvIChsICsgcykpLFxuICAgIHY6IE1hdGguZmxvb3IobCArIHMpLFxuICB9XG59XG5cbmNvbG9yc3lzLmhzbF90b19oc3YgPSBjb2xvcnN5cy5oc2xUb0hzdiA9IGNvbG9yc3lzLmhzbDJIc3ZcblxuLyoqXG4qIFBhcnNlcyB2YWx1ZXMgZnJvbSBhIHN0cmluZyBpbnRvIGEgamF2YXNjcmlwdCBvYmplY3RcbiogZS5nOiBoc2xhKDE0MCwgMzAlLCA0MCUsIC41KSA9PiB7IGg6IDE0MCwgczogMzAsIGw6IDQwLCBhbHBoYTogMC41fVxuKi9cbmNvbG9yc3lzLnBhcnNlQ3NzID0gZnVuY3Rpb24gKGNzc1N0cmluZykge1xuICBpZiAoY3NzU3RyaW5nLmluZGV4T2YoJyMnKSA+IC0xKSB7XG4gICAgcmV0dXJuIGNvbG9yc3lzLmhleDJSZ2IoY3NzU3RyaW5nKVxuICB9XG5cbiAgY29uc3QgcHJlZml4ID0gY3NzU3RyaW5nLnNwbGl0KCcoJylbMF1cbiAgY29uc3QgYXJncyA9IGNzc1N0cmluZy5zcGxpdCgnKCcpWzFdLnNwbGl0KCcpJylbMF0uc3BsaXQoJywnKVxuXG4gIC8vIFVzZSB0aGUgcHJlZml4IGFzIGFuIGFycmF5IFtyLCBnLCBiLCBhXSB0byBwYXJzZSB0aGUgY29sb3Vyc1xuICByZXR1cm4gcHJlZml4LnNwbGl0KCcnKS5yZWR1Y2UoZnVuY3Rpb24gKGNvbG9yLCBwYXJhbSwgaWR4KSB7XG4gICAgY29uc3QgbmV4dENvbG9yID0gY29sb3JcbiAgICBuZXh0Q29sb3JbcGFyYW1dID0gcGFyc2VGbG9hdChhcmdzW2lkeF0pXG4gICAgcmV0dXJuIG5leHRDb2xvclxuICB9LCB7fSlcbn1cblxuY29sb3JzeXMucGFyc2VfY3NzID0gY29sb3JzeXMucGFyc2VDc3NcblxuY29sb3JzeXMuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKG9iaikge1xuICBjb25zdCBwcmVmaXggPSBPYmplY3Qua2V5cyhvYmopLmpvaW4oJycpXG4gIGNvbnN0IHZhbHVlcyA9IE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdmFsID0gb2JqW2tleV1cbiAgICBpZiAoa2V5ID09PSAncycgfHwga2V5ID09PSAndicgfHwga2V5ID09PSAnbCcpIHtcbiAgICAgIHZhbCA9IHZhbCArICclJ1xuICAgIH1cbiAgICByZXR1cm4gdmFsXG4gIH0pXG4gIHJldHVybiBwcmVmaXggKyAnKCcgKyB2YWx1ZXMuam9pbignLCAnKSArICcpJ1xufVxuXG4vLyBXaWxsIHJldHVybiBhIHJhbmRvbSBoZXggY29sb3VyXG5jb2xvcnN5cy5yYW5kb20gPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGJhc2UgPSAnMDAwMDAwJ1xuICBjb25zdCBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNjc3NzIxNSkudG9TdHJpbmcoMTYpXG4gIHJldHVybiAnIycgKyAoYmFzZSArIG51bWJlcikuc3Vic3RyKC02KVxufVxuXG5jb2xvcnN5cy5yb3RhdGVIdWUgPSBmdW5jdGlvbiAoaHVlLCBhbW91bnQpIHtcbiAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDA7IH1cbiAgY29uc3QgYXV4ID0gdHlwZW9mIGh1ZSA9PT0gJ29iamVjdCdcbiAgICAgID8gKGh1ZS5oICsgYW1vdW50KSAlIDM2MFxuICAgICAgOiAoaHVlICsgYW1vdW50KSAlIDM2MFxuICAgICAgXG4gIGNvbnN0IG5leHRIdWUgPSBhdXggPCAwID8gKDM2MCArIGF1eCkgOiBhdXhcbiAgcmV0dXJuIHR5cGVvZiBodWUgPT09ICdvYmplY3QnXG4gICAgICA/IE9iamVjdC5hc3NpZ24oaHVlLCB7IGg6IG5leHRIdWUgfSlcbiAgICAgIDogbmV4dEh1ZVxufVxuXG5cbmNvbG9yc3lzLmdldENvbG9yRW5jb2RpbmcgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnkge1xuICAgICAgY29sb3JzeXMuaGV4MlJnYihjb2xvcilcbiAgICAgIHJldHVybiAnaGV4J1xuICAgIH0gY2F0Y2ggKGVycikgeyAvKiBTaWxlbnQgY2F0Y2ggKi8gfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBjb2xvciAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gJ3Vua25vd24nXG4gIH1cblxuICBpZiAoY29sb3IuciAmJiBjb2xvci5nICYmIGNvbG9yLmIpIHtcbiAgICByZXR1cm4gJ3JnYidcbiAgfVxuXG4gIGlmIChjb2xvci5oICYmIGNvbG9yLnMgJiYgY29sb3Iudikge1xuICAgIHJldHVybiAnaHN2J1xuICB9XG5cbiAgaWYgKGNvbG9yLmggJiYgY29sb3IucyAmJiBjb2xvci5sKSB7XG4gICAgcmV0dXJuICdoc2wnXG4gIH1cblxuICBpZiAoY29sb3IuYyAmJiBjb2xvci5tICYmIGNvbG9yLnkgJiYgY29sb3Iuaykge1xuICAgIHJldHVybiAnY215aydcbiAgfVxuXG4gIHJldHVybiAndW5rbm93bidcbn1cblxuZnVuY3Rpb24gX25vcm1hbGl6ZUFuZ2xlIChkZWdyZWVzKSB7XG4gIHJldHVybiAoZGVncmVlcyAlIDM2MCArIDM2MCkgJSAzNjA7XG59XG5cbmZ1bmN0aW9uIF9odWUyUmdiIChwLCBxLCB0KSB7XG4gIGlmICh0IDwgMCkgdCArPSAxXG4gIGlmICh0ID4gMSkgdCAtPSAxXG4gIGlmICh0IDwgMSAvIDYpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0XG4gIGlmICh0IDwgMSAvIDIpIHJldHVybiBxXG4gIGlmICh0IDwgMiAvIDMpIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNlxuICByZXR1cm4gcFxufVxuXG4vLyBUT0RPOlxuLy8gQ3JlYXRlIGRhcmtlbiAvIGxpZ2h0ZW4gbWV0aG9kcyB3aXRoIHNhbWUgaW5wdXQvb3V0cHV0IGZvcm1hdFxuXG4vL1xuLy8gY29sb3JzeXMuZGFya2VuID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4vLyAgIGNvbnN0IGNvbG9yRW5jb2RpbmcgPSBjb2xvcnN5cy5nZXRDb2xvckVuY29kaW5nKGNvbG9yKVxuLy8gICBpZiAoY29sb3JFbmNvZGluZyA9PT0gJ3Vua25vd24nKSB7XG4vLyAgICAgcmV0dXJuIGNvbG9yXG4vLyAgIH1cblxuLy8gICBjb25zdCBoc3YgPSBfZ2V0Q29sb3JJbkhzdihjb2xvcilcbi8vICAgcmV0dXJuIFxuLy8gfVxuXG4vL1xuLy8gZnVuY3Rpb24gX2dldENvbG9ySW5Ic3YgKGNvbG9yKSB7XG4vLyAgIGNvbnN0IGNvbG9yRW5jb2RpbmcgPSBjb2xvcnN5cy5nZXRDb2xvckVuY29kaW5nKGNvbG9yKVxuXG4vLyAgIHN3aXRjaCAoY29sb3JFbmNvZGluZykge1xuLy8gICAgIGNhc2UgJ2hzdic6XG4vLyAgICAgICByZXR1cm4gY29sb3Jcbi8vICAgICBjYXNlICdyZ2InOlxuLy8gICAgICAgcmV0dXJuIHJnYjJIc3YoY29sb3IpXG4vLyAgICAgY2FzZSAnaGV4Jzpcbi8vICAgICAgIHJldHVybiBoZXgySHN2KGNvbG9yKVxuLy8gICAgIGNhc2UgJ2hzbCc6XG4vLyAgICAgICByZXR1cm4gaHNsMkhzdihjb2xvcilcbi8vICAgICBjYXNlICdjbXlrJzpcbi8vICAgICAgIHJldHVybiByZ2IySHN2KGNteWsyUmdiKGNvbG9yKSlcbi8vICAgICBkZWZhdWx0OlxuLy8gICAgICAgcmV0dXJuICd1bmtub3duJ1xuLy8gICB9XG4vLyB9XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZXMuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlcy5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlxcbmJvZHkge1xcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XFxufVxcblxcbmNhbnZhcyB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG1hcmdpbi1ib3R0b206IDFlbTtcXG4gIG1hcmdpbi10b3A6IC4yZW07XFxufVxcblxcbmgxIHtcXG4gIGNvbG9yOiByZWQ7XFxufVxcblxcbi8qIEJ1dHRvbnMgYW5kIGFjdGlvbnMgKi9cXG5kaXYudXBsb2FkLXdyYXBwZXIge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBtYXJnaW4tYm90dG9tOiAuNWVtO1xcbn1cXG5cXG5kaXYudXBsb2FkLXdyYXBwZXIgaW5wdXRbdHlwZT1maWxlXSB7XFxuICBoZWlnaHQ6IDAuMXB4O1xcbiAgd2lkdGg6IDAuMXB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIG9wYWNpdHk6IDA7XFxufVxcblxcbmxhYmVsLnBob3RvLFxcbmJ1dHRvbiNydW4tYW5hbHlzaXMge1xcbiAgcGFkZGluZzogLjVlbTtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBmb250LXNpemU6IDEuMWVtO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgbWFyZ2luLWJvdHRvbTogMWVtO1xcbn1cXG5cXG5idXR0b24jcnVuLWFuYWx5c2lzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuYnV0dG9uI3J1bi1hbmFseXNpczpob3ZlcntcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiZDJjMjM7XFxufVxcblxcbmxhYmVsLnBob3RvIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHB1cnBsZTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGxpbmUtaGVpZ2h0OiAyLjJlbTtcXG59XFxuaW5wdXRbdHlwZT1maWxlXTpob3ZlciArIGxhYmVsLnBob3RvIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzZTE1M2U7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi8qIEJvZHkgc3R5bGVzICovXFxuLmJsb2NrLFxcbi5saW5lLFxcbi5nZXQtY29sb3Vycy13cmFwcGVyIHtcXG4gIGRpc3BsYXk6bm9uZTtcXG59XFxuXFxuLnBob3RvLXVwbG9hZGVkIC5nZXQtY29sb3Vycy13cmFwcGVyIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4uZ2V0LWNvbG91cnMgLmJsb2NrLFxcbi5nZXQtY29sb3VycyAubGluZSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuLmNvbnRhaW5lci1ibG9jayB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xcbiAgbWFyZ2luLWJvdHRvbTogLjVlbTtcXG59XFxuXFxuLmNvbnRhaW5lci1saW5lIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XFxuICBtYXJnaW4tYm90dG9tOiAuNWVtO1xcbn1cXG5cXG4uY2FudmFzLWhvbGRlciB7XFxuICBtYXJnaW4tcmlnaHQ6IDJlbTtcXG4gIGZsZXg6IGF1dG8gMSAxO1xcbn1cXG5cXG4uY2FudmFzLWhvbGRlciBhIHtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjYWJmYmY7XFxuICBwYWRkaW5nOiAycHggM3B4O1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG5cXG4uY2FudmFzLWhvbGRlciBhLmF2YWlsYWJsZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjk4ZTUyO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uY2FudmFzLWhvbGRlciBhLmF2YWlsYWJsZTpob3ZlcixcXG4gLmNhbnZhcy1ob2xkZXIgYS5hdmFpbGFibGU6YWN0aXZlIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuQG1lZGlhIChtYXgtd2lkdGg6IDcwMHB4KSB7XFxuICAuY29udGFpbmVyLWJsb2NrIHtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIH1cXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsImNvbnN0IGNvbG9yc3lzID0gcmVxdWlyZSgnY29sb3JzeXMnKVxuXG4vL1NvcnQgb24gYnJpZ2h0bmVzcyAtIHRoZSBWIGluIGhzdlxuZXhwb3J0IGNvbnN0IHNvcnRCcmlnaHRuZXNzID0gKGNvbG9yRGF0YSkgPT4ge1xuICBjb25zdCBjUGx1c0hzdiA9IGFkZFRvQ29sb3IoY29sb3JEYXRhLCBjb2xvcnN5cy5yZ2JfdG9faHN2LCBcInZcIik7XG4gIHJldHVybiBjUGx1c0hzdi5zb3J0KChhLGIpID0+IHtcbiAgICByZXR1cm4gYS52IC0gYi52XG4gIH0pXG59XG5cbi8vU29ydCBvbiBsaWdodG5lc3MgLSB0aGUgTCBpbiBoc2xcbmV4cG9ydCBjb25zdCBzb3J0TGlnaHRuZXNzID0gKGNvbG9yRGF0YSkgPT4ge1xuIGNvbnN0IGNQbHVzSHNsID0gYWRkVG9Db2xvcihjb2xvckRhdGEsIGNvbG9yc3lzLnJnYl90b19oc2wsIFwibFwiKTtcbiAgcmV0dXJuIGNQbHVzSHNsLnNvcnQoKGEsIGIpID0+IHtcbiAgICByZXR1cm4gYS5sIC0gYi5sXG4gIH0pXG59XG5cbmNvbnN0IGFkZFRvQ29sb3IgPSAoZGF0YSwgZnVuYywgcHJvcCkgPT4ge1xuICByZXR1cm4gZGF0YS5tYXAoIGQgPT4ge1xuICAgIGxldCBbciwgZywgYl0gPSBkO1xuICAgIGxldCBuZXdDb2xvciA9IGZ1bmMociwgZywgYik7XG4gICAgcmV0dXJuIHsgciwgZywgYiwgW3Byb3BdOiBuZXdDb2xvcltwcm9wXSB9IC8vIHtyIGcgYiBsfSBvciB7ciBnIGIgdn1cbiAgfSlcbn1cbiIsImltcG9ydCB7c29ydExpZ2h0bmVzcywgc29ydEJyaWdodG5lc3N9IGZyb20gJy4vY29sb3VyU29ydGVyLmpzJ1xuXG5leHBvcnQgY29uc3QgZ2V0UGl4ZWxEYXRhID0gKGN0eCwgYmxvY2tIZWlnaHQsIGJsb2NrV2lkdGgsIGhlaWdodCwgd2lkdGgsIGNvbG9yUHJvcCkgPT4ge1xuICBsZXQgdmNCbG9jayA9IGJsb2NrSGVpZ2h0IC8gMlxuICBsZXQgaGNCbG9jayA9IGJsb2NrV2lkdGggLyAyXG5cbiAgbGV0IHZQb2ludHMgPSBbXVxuICBsZXQgaFBvaW50cyA9IFtdXG5cbiAgZm9yKGxldCBpPXZjQmxvY2s7IGkgPCBoZWlnaHQ7IGkgKz0gYmxvY2tIZWlnaHQpe1xuICAgIHZQb2ludHMucHVzaChpKVxuICB9XG5cbiAgZm9yKGxldCBpPWhjQmxvY2s7IGkgPCB3aWR0aDsgaSs9IGJsb2NrV2lkdGgpe1xuICAgIGhQb2ludHMucHVzaChpKVxuICB9XG5cbiAgY29uc3QgYWxsUG9pbnRzID0gdlBvaW50cy5yZWR1Y2UoKGFjYyxjdXJyKSA9PiB7XG4gICAgbGV0IHJvdyA9IGhQb2ludHMubWFwKGhwb2ludCA9PiB7XG4gICAgICAgIHJldHVybiBbaHBvaW50LCBjdXJyXTtcbiAgICB9KVxuICAgIHJldHVybiBhY2MuY29uY2F0KHJvdyk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBjb2xvckRhdGEgPSBhbGxQb2ludHMubWFwKChwb2ludCkgPT4ge1xuICAgICAgbGV0IHBpeGVsRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEocG9pbnRbMF0sIHBvaW50WzFdLCAxLCAxKS5kYXRhO1xuICAgICAgcmV0dXJuIHBpeGVsRGF0YTtcbiAgfSk7XG5cbiAgaWYoY29sb3JQcm9wID09PSBcImxcIikge1xuICAgIHJldHVybiBzb3J0TGlnaHRuZXNzKGNvbG9yRGF0YSlcbiAgfSBlbHNlIGlmKGNvbG9yUHJvcCA9PT0gXCJ2XCIpIHtcbiAgICByZXR1cm4gc29ydEJyaWdodG5lc3MoY29sb3JEYXRhKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtzZXR1cERvd25sb2FkQnV0dG9ufSBmcm9tIFwiLi9maWxlaGFuZGxlci5qc1wiXG5cbmV4cG9ydCBjb25zdCBkcmF3ZXJPdXRwdXQgPSAob3JpZ0NvbG9ycywgaGVpZ2h0LCB3aWR0aCwgaWQsIGJsb2NrSGVpZ2h0LCBibG9ja1dpZHRoLCBmaWxlbmFtZSkgPT4ge1xuICBsZXQgY3R4ID0gY2FudmFzU2V0VXAoaWQsIGhlaWdodCwgd2lkdGgpO1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcblxuICBsZXQgeFN0YXJ0UG9pbnRzID0gW11cbiAgbGV0IHlTdGFydFBvaW50cyA9IFtdXG5cbiAgZm9yKGxldCBpID0gMDsgaSA8IGhlaWdodDsgaSArPSBibG9ja0hlaWdodCl7XG4gICAgeVN0YXJ0UG9pbnRzLnB1c2goaSlcbiAgfVxuXG4gIGZvcihsZXQgaSA9IDA7IGkgPCB3aWR0aDsgaSArPSBibG9ja1dpZHRoKXtcbiAgICB4U3RhcnRQb2ludHMucHVzaChpKVxuICB9XG5cbiAgY29uc3QgYWxsU3RhcnRQb2ludHMgPSB4U3RhcnRQb2ludHMucmVkdWNlKChhY2MsY3VycikgPT4ge1xuICAgIGxldCByb3cgPSB5U3RhcnRQb2ludHMubWFwKHlQb2ludCA9PiB7XG4gICAgICByZXR1cm4gW2N1cnIsIHlQb2ludF1cbiAgICB9KVxuICAgIHJldHVybiBhY2MuY29uY2F0KHJvdylcbiAgfSxbXSlcblxuICBhbGxTdGFydFBvaW50cy5mb3JFYWNoKChjb29yZCwgaSkgPT4ge1xuICAgICAgY3R4LmZpbGxSZWN0KGNvb3JkWzBdLCBjb29yZFsxXSwgYmxvY2tXaWR0aCwgYmxvY2tIZWlnaHQpXG4gICAgICBpZihvcmlnQ29sb3JzW2ldKXtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2IoJHtvcmlnQ29sb3JzW2ldLnJ9LCAke29yaWdDb2xvcnNbaV0uZ30sICR7b3JpZ0NvbG9yc1tpXS5ifSlgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgIH1cbiAgfSlcbiAgc2V0dXBEb3dubG9hZEJ1dHRvbihpZCwgZmlsZW5hbWUpO1xufVxuXG5leHBvcnQgY29uc3QgY2FudmFzU2V0VXAgPSAoaWQsIGgsIHcpID0+IHtcbiAgY29uc3QgY3ZzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpXG4gIGN2cy5oZWlnaHQgPSBoO1xuICBjdnMud2lkdGggPSB3O1xuICByZXR1cm4gY3ZzLmdldENvbnRleHQoJzJkJyk7XG59XG4iLCJcblxuZXhwb3J0IGNvbnN0IHNldHVwRG93bmxvYWRCdXR0b24gPSAoaWQsIGZpbGVuYW1lKSA9PiB7XG4gIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpZH0tZG93bmxvYWRgKTtcblxuICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgJ2NsaWNrJyxcbiAgICAoKSA9PiB7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpZH1gKTtcbiAgICAgIGxpbmsuaHJlZiA9IGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBgJHtmaWxlbmFtZX0tJHtpZH1gO1xuICAgIH0sXG4gICAgZmFsc2VcbiAgKTtcblxuICBsaW5rLmNsYXNzTGlzdC5hZGQoJ2F2YWlsYWJsZScpO1xufVxuIiwiaW1wb3J0IHtnZXRQaXhlbERhdGF9IGZyb20gXCIuL2NvbG91ckdldHRlci5qc1wiXG5pbXBvcnQge2NhbnZhc1NldFVwLCBkcmF3ZXJPdXRwdXR9IGZyb20gXCIuL2NvbG9yRHJhd2VyLmpzXCJcbmltcG9ydCB7c2NhbGUsIGZpbmRCbG9ja051bWJlcn0gZnJvbSBcIi4vdXRpbHMuanNcIlxuaW1wb3J0ICcuL3N0eWxlcy5jc3MnXG5cbi8vIGh0dHBzOi8vb3VyY29kZXdvcmxkLmNvbS9hcnRpY2xlcy9yZWFkLzE4NS9ob3ctdG8tZ2V0LXRoZS1waXhlbC1jb2xvci1mcm9tLWEtY2FudmFzLW9uLWNsaWNrLW9yLW1vdXNlLWV2ZW50LXdpdGgtamF2YXNjcmlwdFxuY29uc3QgbWF4SGVpZ2h0ID0gNDAwO1xuY29uc3QgbWF4V2lkdGggPSA0MDA7XG5jb25zdCBzdGFuZGFyZEJsb2NrID0gMjU7XG5cbmNvbnN0IG1haW5Cb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJyk7XG5jb25zdCB1cGxvYWRMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsLnBob3RvJyk7XG5jb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5vdXRlcldpZHRoO1xuXG5jb25zdCBmaWxlU2VsZWN0b3IgPSAoKSA9PiB7XG4gIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90by1zdWJtaXR0ZXInKTtcbiAgZmlsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgJ2NoYW5nZScsXG4gICAgY2hlY2tGaWxlcyxcbiAgICBmYWxzZVxuICApXG59XG5cbmNvbnN0IGNoZWNrRmlsZXMgPSAoZSkgPT4ge1xuICBsZXQgc3VibWl0dGVkID0gZS50YXJnZXQuZmlsZXM7XG4gIGlmKHN1Ym1pdHRlZC5sZW5ndGggPiAxKSB7XG4gICAgc3VibWl0dGVkLmZvckVhY2goZmlsZSA9PiBtb3VudEZpbGUoZmlsZSwgdHJ1ZSkpO1xuICB9XG4gIGVsc2UgaWYoc3VibWl0dGVkLmxlbmd0aCA9PT0gMSl7XG4gICAgbW91bnRGaWxlKHN1Ym1pdHRlZFswXSwgZmFsc2UpXG4gIH1cbn1cblxuY29uc3QgbW91bnRGaWxlID0gKGZpbGUsIGxpbmVPbmx5KSA9PiB7XG4gIGxldCBmaWxlbmFtZSA9IGZpbGUubmFtZTtcbiAgbGV0IHJlYWRlciAgPSBuZXcgRmlsZVJlYWRlcigpO1xuICBsZXQgY3R4ID0gY2FudmFzU2V0VXAoJ2NhbnZhcycsIG1heEhlaWdodCwgbWF4V2lkdGgpO1xuICBsZXQgaW1nID0gbmV3IEltYWdlKCk7XG4gIGltZy5jcm9zc29yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICBpbWcuY29ycmVjdE9yaWVudGF0aW9uID0gdHJ1ZTtcblxuICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgIGxldCBbdywgaF0gPSBzY2FsZShpbWcud2lkdGgsIGltZy5oZWlnaHQsIG1heFdpZHRoLCBtYXhIZWlnaHQpXG4gICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHcsIGgpO1xuICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaW1nLnNyYylcbiAgICBkcmF3ZXIoY3R4LCBmaWxlbmFtZSwge3csIGgsIGxpbmVPbmx5fSlcbiAgICBtYWluQm94LmNsYXNzTGlzdC5hZGQoJ3Bob3RvLXVwbG9hZGVkJyk7XG4gIH1cbiAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG59XG5cbmNvbnN0IGRyYXdlciA9IChjdHgsIGZpbGVuYW1lLCBjb25mKSA9PiB7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuLWFuYWx5c2lzXCIpXG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxuICAgICdjbGljaycsXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ0NvbG9yc0wgPSBnZXRQaXhlbERhdGEoY3R4LCBzdGFuZGFyZEJsb2NrLCBzdGFuZGFyZEJsb2NrLCBjb25mLmgsIGNvbmYudywgXCJsXCIsIGZpbGVuYW1lKTtcbiAgICAgIGNvbnN0IG9yaWdDb2xvcnNCID0gZ2V0UGl4ZWxEYXRhKGN0eCwgc3RhbmRhcmRCbG9jaywgc3RhbmRhcmRCbG9jaywgY29uZi5oLCBjb25mLncsIFwidlwiLCBmaWxlbmFtZSk7IC8vIHYgaXMgdGhlIHYgaW4gaHN2IGFrYSBicmlnaHRuZXNzXG4gICAgICBjcmVhdGVOZXdDYW52YXNlcyhvcmlnQ29sb3JzTCwgb3JpZ0NvbG9yc0IsIGNvbmYpO1xuICAgICAgc2hvd0NvbG91ck9wdGlvbnMoKTtcbiAgICB9LFxuICAgIGZhbHNlXG4gICk7XG59XG5cbmNvbnN0IHNob3dDb2xvdXJPcHRpb25zID0gKCkgPT4ge1xuICBtYWluQm94LmNsYXNzTGlzdC5hZGQoJ2dldC1jb2xvdXJzJyk7XG4gIHVwbG9hZExhYmVsLnRleHRDb250ZW50ID0gJzEuIFVwbG9hZCBhbm90aGVyIHBob3RvJztcbiAgaWYgKHdpbmRvd1dpZHRoIDwgNDAwKSB7XG4gICAgbWFpbkJveC5zY3JvbGxUbygwLCA2MDApO1xuICB9XG59XG5cbmNvbnN0IGNyZWF0ZU5ld0NhbnZhc2VzID0gKG9yaWdDb2xvcnNMLCBvcmlnQ29sb3JzQiwgY29uZikgPT4ge1xuICBsZXQgd0xpbmUgPSBmaW5kQmxvY2tOdW1iZXIoY29uZi53LCBjb25mLmgsIHN0YW5kYXJkQmxvY2spICogc3RhbmRhcmRCbG9jaztcblxuICBpZihjb25mLmxpbmVPbmx5KXtcbiAgICAgIGRyYXdlck91dHB1dChvcmlnQ29sb3JzTCwgc3RhbmRhcmRCbG9jaywgd0xpbmUsICdsaW5lTGlnaHRuZXNzJywgc3RhbmRhcmRCbG9jaywgc3RhbmRhcmRCbG9jayk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYmxvY2sgY2FudmFzZXNcbiAgICBkcmF3ZXJPdXRwdXQob3JpZ0NvbG9yc0wsIGNvbmYuaCwgY29uZi53LCAnYmxvY2tMaWdodG5lc3MnLCBzdGFuZGFyZEJsb2NrLCBzdGFuZGFyZEJsb2NrKTtcbiAgICBkcmF3ZXJPdXRwdXQob3JpZ0NvbG9yc0IsIGNvbmYuaCwgY29uZi53LCAnYmxvY2tCcmlnaHRuZXNzJywgc3RhbmRhcmRCbG9jaywgc3RhbmRhcmRCbG9jayk7XG5cbiAgICAvLyBsaW5lIGNhbnZhc2VzXG4gICAgZHJhd2VyT3V0cHV0KG9yaWdDb2xvcnNMLCBzdGFuZGFyZEJsb2NrLCB3TGluZSwgJ2xpbmVMaWdodG5lc3MnLCBzdGFuZGFyZEJsb2NrLCBzdGFuZGFyZEJsb2NrKTtcbiAgICBkcmF3ZXJPdXRwdXQob3JpZ0NvbG9yc0IsIHN0YW5kYXJkQmxvY2ssIHdMaW5lLCAnbGluZUJyaWdodG5lc3MnLCBzdGFuZGFyZEJsb2NrLCBzdGFuZGFyZEJsb2NrKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgZmlsZVNlbGVjdG9yKCk7XG59XG4iLCJcblxuZXhwb3J0IGNvbnN0IGZpbmRCbG9ja051bWJlciA9ICh3LCBoLCBzdGFuZGFyZEJsb2NrKSA9PiB7XG4gIGxldCBob3Jpem9udGFsQmxvY2tzO1xuICBsZXQgdmVydGljYWxCbG9ja3M7XG4gIGlmKHcgPiBoKSB7XG4gICAgaG9yaXpvbnRhbEJsb2NrcyA9IDE1O1xuICAgIHZlcnRpY2FsQmxvY2tzID0gaCAvIHN0YW5kYXJkQmxvY2s7XG4gIH0gZWxzZSB7XG4gICAgaG9yaXpvbnRhbEJsb2NrcyA9IHcgLyBzdGFuZGFyZEJsb2NrO1xuICAgIHZlcnRpY2FsQmxvY2tzID0gMTU7XG4gIH1cbiAgbGV0IG51bUJsb2NrcyA9IHZlcnRpY2FsQmxvY2tzICogaG9yaXpvbnRhbEJsb2NrcztcbiAgcmV0dXJuIChudW1CbG9ja3MpO1xufVxuXG5leHBvcnQgY29uc3Qgc2NhbGUgPSAodywgaCwgbWF4V2lkdGgsIG1heEhlaWdodCkgPT4ge1xuICBjb25zdCB3aHJhdGlvID0gaCAvIHc7XG4gIGlmKHdocmF0aW8gPCAxKXtcbiAgICBsZXQgdzEgPSBtYXhXaWR0aDtcbiAgICBsZXQgaDEgPSB3MSAqIHdocmF0aW87XG4gICAgcmV0dXJuIFt3MSwgaDFdXG4gIH1cbiAgZWxzZSB7XG4gICAgbGV0IGgxID0gbWF4SGVpZ2h0O1xuICAgIGxldCB3MSA9IGgxIC8gd2hyYXRpbztcbiAgICByZXR1cm4gW3cxLCBoMV07XG4gIH1cbn1cbiIsImltcG9ydCB7aW5pdH0gZnJvbSBcIi4vbWFpbi5qc1wiO1xuaW1wb3J0IHtiYXRjaEluaXR9IGZyb20gXCIuL2JhdGNoLmpzXCI7XG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gIGNvbnN0IGJhdGNoQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JhdGNoLWNvbnRhaW5lcicpO1xuICAgIGlmKGJhdGNoQ29udGFpbmVyKXtcbiAgICAgIGNvbnNvbGUubG9nKFwiYmF0Y2ggb3B0aW9uIHJhblwiKTtcbiAgICAgIGJhdGNoSW5pdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0KCk7XG4gICAgfVxufTtcbiIsIlxuXG5cblxuZXhwb3J0IGNvbnN0IGJhdGNoSW5pdCA9ICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJ3aWxsIGl0IHNob3cgaGVyZSBcIilcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=